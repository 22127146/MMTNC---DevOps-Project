<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DateWise</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="logo">DateWise</div>
            <div class="user-profile">
                <div class="btn">
                    <button id="noti-icon" class="notification-button" onclick="location.href=''">
                        <img src="icon/bell.svg" alt="Noti icon">
                    </button>
                </div>
                <img src="image/ava.png" alt="User Avatar" onclick="location.href='../profile/profile.html'">
                <span onclick="location.href=''">Amanda Smith</span>
            </div>
        </div>
    </header>
    <div class="main-content">
        <div class="banner">
            <div class="background-img">
                <img src="image/sunset.jpg" alt="Background">
            </div>
            <div class="banner-text">
                Discover Unforgettable Experience
            </div>
            <button class="banner-btn" onclick="location.href='../../../UI_Export/Page/Planning/planning.html'">
                Make your own plan
            </button>
        </div>
        <div class="section-01">
            <div class="calendar">
              <div class="month">
                <a href="#" class="nav">
                    <img src="icon/left-arrow.svg" alt="Left" width="24" height="24">
                </a>
                <div>January <span class="year">2019</span></div>
                <a href="#" class="nav">
                    <img src="icon/right-arrow.svg" alt="Right" width="24" height="24">
                </a>
              </div>
            
                <div class="days">
                    <span>Mon</span>
                    <span>Tue</span>
                    <span>Wed</span>
                    <span>Thu</span>
                    <span>Fri</span>
                    <span>Sat</span>
                    <span>Sun</span>
                </div>
                <div class="dates">
                    <button>
                      <time>1</time>
                    </button>
                    <button>
                      <time>2</time>
                    </button>
                    <button>
                      <time>3</time>
                    </button>
                    <button>
                      <time>4</time>
                    </button>
                    <button>
                      <time>5</time>
                    </button>
                    <button>
                      <time>6</time>
                    </button>
                    <button>
                      <time>7</time>
                    </button>
                    <button>
                      <time>8</time>
                    </button>
                    <button>
                      <time>9</time>
                    </button>
                    <button>
                      <time>10</time>
                    </button>
                    <button>
                      <time>11</time>
                    </button>
                    <button>
                      <time>12</time>
                    </button>
                    <button>
                      <time>13</time>
                    </button>
                    <button>
                      <time>14</time>
                    </button>
                    <button>
                      <time>15</time>
                    </button>
                    <button>
                      <time>16</time>
                    </button>
                    <button>
                      <time>17</time>
                    </button>
                    <button class="today">
                      <time>18</time>
                    </button>
                    <button>
                      <time>19</time>
                    </button>
                    <button>
                      <time>20</time>
                    </button>
                    <button>
                      <time>21</time>
                    </button>
                    <button>
                      <time>22</time>
                    </button>
                    <button>
                      <time>23</time>
                    </button>
                    <button>
                      <time>24</time>
                    </button>
                    <button>
                      <time>25</time>
                    </button>
                    <button>
                      <time>26</time>
                    </button>
                    <button>
                      <time>27</time>
                    </button>
                    <button>
                      <time>28</time>
                    </button>
                    <button>
                      <time>29</time>
                    </button>
                    <button>
                      <time>30</time>
                    </button>
                    <button>
                      <time>31</time>
                    </button>
                </div>
            </div>
            <div class="week-highlight">
                <h2>Highlight of <span>this week</span></h2>
                <!-- Carousel container -->
                <div class="carousel-container">
                    <button class="prev">
                        <img src="icon/left-arrow.svg" alt="Left" width="24" height="24">
                    </button>
                    <div class="carousel-slide active">
                        <img src="image/workshop.png" alt="">
                    </div>
                    <div class="carousel-slide">
                        <img src="image/banner.png" alt="">
                    </div>
                    <div class="carousel-slide">
                        <img src="image/baking.jpg" alt="">
                    </div>
                    <button class="next">
                        <img src="icon/right-arrow.svg" alt="Right" width="24" height="24">
                    </button>
                </div>
            </div>
        </div>

        <div class="section-02">
            <h2>Must-try <span>Restaurant</span></h2>
            <div class="slider">
                <div class="slider-wrapper">
                    <button class="slider-btn prev">
                        <img src="icon/left-arrow.svg" alt="Left" width="24" height="24">
                    </button>
                    <div class="slider-container" id="restaurant-slider-container">
                        </div>
                    <button class="slider-btn next">
                        <img src="icon/right-arrow.svg" alt="Right" width="24" height="24">
                    </button>
                </div>
            </div>        
        </div>

        <div class="section-03">
            <h2>Must-try <span>Coffee shop<span></h2>
            <div class="slider">
                <div class="slider-wrapper">
                    <button class="slider-btn prev">
                        <img src="icon/left-arrow.svg" alt="Left" width="24" height="24">
                    </button>
                    <div class="slider-container" id="coffee-slider-container">
                        </div>
                    <button class="slider-btn next">
                        <img src="icon/right-arrow.svg" alt="Right" width="24" height="24">
                    </button>
                </div>
            </div>        
        </div>

    </div>
    <footer class="footer">
        <div class="footer-container">
          <p class="footer-title">Contact Us</p>
          <p>Email: <a href="">datewise@spooners.com</a></p>
          <p>Phone: <a href="">+1 234 567 890</a></p>
          <p>Address: 123 Nguyen Van Cu Street, Ho Chi Minh City, Vietnam</p>
          <p>© 2024 Spooners. All rights reserved.</p>
        </div>
    </footer>    
    <script>
        async function fetchLocationsAndRender() {
          try {
            const response = await fetch('/api/locations'); // Gọi API endpoint
            const locations = await response.json();
      
            renderLocations(locations, 'restaurant', 'restaurant-slider-container');
            renderLocations(locations, 'coffee', 'coffee-slider-container');
          } catch (error) {
            console.error('Error fetching or rendering locations:', error);
          }
        }
      
        function renderLocations(locations, type, containerId) {
            const container = document.getElementById(containerId);
            if (!container) return;
        
            // Lọc locations dựa trên type (nhà hàng hoặc quán cà phê)
            const filteredLocations = locations.filter(location => {
                <!-- if (type === 'restaurant') {
                    return location.LOC_TAG === 'ACTI-05' || location.LOC_TAG === 'LUX'; // Thay 'REST' và 'LUX' bằng tag của nhà hàng
                } else if (type === 'coffee') {
                    return location.LOC_TAG === 'CUIS-02'; // Thay 'COFF' bằng tag của quán cà phê
                }
                return false; -->
                return location.LOC_TAG === 'CUIS-02';
            });
        
            // Duyệt qua các locations đã lọc và tạo HTML
            filteredLocations.forEach(location => {
                const slide = document.createElement('div');
                slide.classList.add('slider-slide');
        
                const imageContainer = document.createElement('div');
                imageContainer.classList.add('image-container');
                imageContainer.innerHTML = `
                    <img src="${location.LOC_PHOTO || 'image/restaurant.png'}" alt="${location.LOC_NAME}">
                    <button id="heart" class="heart-btn" onclick="toggleHeart(this)">
                        <img src="icon/heart.svg" alt="Heart icon">
                    </button>
                `;
        
                const textContainer = document.createElement('div');
                textContainer.classList.add('text-container');
                textContainer.innerHTML = `
                    <h3>${location.LOC_NAME}</h3>
                    <p>⏰ ${location.LOC_WHOURS}</p>
                    <p>📍 ${location.LOC_FADDRESS}</p>
                    <p>💵 From ${location.LOC_PRICE}đ</p>
                `;
        
                slide.appendChild(imageContainer);
                slide.appendChild(textContainer);
                container.appendChild(slide);
            });
        }
      
        fetchLocationsAndRender();
      </script>
      
</body>
</html>